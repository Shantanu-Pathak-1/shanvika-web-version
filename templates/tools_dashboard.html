<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools Dashboard - Shanvika</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tool-card { transition: all 0.3s ease; }
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(168, 85, 247, 0.4);
            border-color: #a855f7;
        }
        .tool-icon-wrapper { transition: all 0.3s ease; }
        .tool-card:hover .tool-icon-wrapper { transform: scale(1.1) rotate(5deg); }
    </style>
</head>
<body class="bg-gray-900 text-white flex h-screen overflow-hidden">

    <nav class="w-64 bg-gray-800 border-r border-gray-700 flex flex-col justify-between hidden md:flex z-20">
        <div class="p-4">
            <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mb-8 text-center mt-2">Shanvika</h2>
            <div class="space-y-2">
                <a href="/" class="flex items-center gap-3 p-3 rounded-xl hover:bg-gray-700 transition text-gray-300 hover:text-white">
                    <i class="fas fa-home w-5 text-center"></i> 
                    <span class="font-medium">Main Chat</span>
                </a>
                <a href="/tools" class="flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-purple-500/30 text-purple-400 transition shadow-inner">
                    <i class="fas fa-flask w-5 text-center"></i> 
                    <span class="font-medium">Tools Lab</span>
                </a>
            </div>
        </div>
        <div class="p-4 border-t border-gray-700 space-y-2">
            <div class="flex items-center gap-3 p-3 mt-2 rounded-xl bg-gray-700/50 border border-gray-600">
                <img src="{{ user.picture if user.picture else url_for('static', filename='images/logo.png') }}" alt="Profile" class="w-9 h-9 rounded-full object-cover border-2 border-purple-500">
                <span class="font-medium truncate">{{ user.name }}</span>
            </div>
        </div>
    </nav>

    <main class="flex-1 overflow-y-auto p-8 relative bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black">
        <header class="mb-10 text-center md:text-left pt-4">
            <h1 class="text-3xl md:text-4xl font-bold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400">Hello Namaste Shantanu! âœ¨</h1>
            <p class="text-gray-400 text-lg">Aaj kya create karein? Apne favorite AI tool ko select karo.</p>
        </header>

        <div class="mb-12 max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500">
                    <i class="fas fa-hammer mr-2 text-yellow-500"></i> My Custom Tools
                </h2>
                <button onclick="document.getElementById('customToolModal').classList.remove('hidden')" class="bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-orange-500/30 transition transform hover:-translate-y-0.5">
                    <i class="fas fa-plus mr-1"></i> Create Tool
                </button>
            </div>
            <div id="customToolsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <p class="text-gray-500 text-sm italic col-span-full">Loading your custom tools...</p>
            </div>
        </div>
        <div class="flex items-center gap-3 mb-6 max-w-7xl mx-auto mt-8">
            <h2 class="text-2xl font-bold text-white"><i class="fas fa-layer-group text-purple-500 mr-2"></i> Standard Tools</h2>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto pb-10">
            
            <a href="/tools/flashcards" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-purple-500/30">
                    <i class="fas fa-clone text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ´ğŸ§ BrainSpark</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Study smarter, not harder! ğŸ“šâœ¨
Generate AI-powered flashcards in seconds.</p>
            </a>

            <a href="/tools/image_gen" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-rose-500 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-pink-500/30">
                    <i class="fas fa-image text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¨VisionForge</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Turn imagination into reality! ğŸ¨âœ¨
Create stunning, high-quality images in seconds.</p>
            </a>

            <a href="/tools/resume_builder" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-blue-500/30">
                    <i class="fas fa-file-alt text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ“„ResumeX</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Stand out and get hired! ğŸ’¼âœ¨
Build an ATS-friendly resume that lands your dream job.</p>
            </a>

            <a href="/tools/youtube_summarizer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-red-500/30">
                    <i class="fab fa-youtube text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¬YT Summarizer</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Learn more in less time! â±ï¸ğŸ“š
Turn long YT tutorials into quick, easy summaries.</p>
            </a>

            <a href="/tools/github_review" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-gray-500/30">
                    <i class="fab fa-github text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¥¸CodeInsight</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Level up your coding profile! ğŸš€ğŸ’»
Get AI-powered insights to improve your GitHub.</p>
            </a>

            <a href="/tools/smart_todo" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-green-400 to-teal-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-green-500/30">
                    <i class="fas fa-tasks text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">âœ…TaskFlow</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Clear your mind instantly! ğŸ§ âœ¨
Transform messy thoughts into organized task lists.</p>
            </a>

            <a href="/tools/prompt_writer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-700 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-purple-500/30">
                    <i class="fas fa-pen-fancy text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">âœï¸PromptCraft</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Turn ideas into powerful AI prompts! âœ¨ğŸ¤–
Convert simple thoughts into professional-ready prompts.</p>
            </a>

            <a href="/tools/qr_generator" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-400 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-white/30">
                    <i class="fas fa-qrcode text-black"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ”³QR Maker</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Share smarter, instantly! ğŸ“²âœ¨
Generate custom QR codes for links and text in seconds.</p>
            </a>

            <a href="/tools/resume_analyzer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-400 to-green-700 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-green-500/30">
                    <i class="fas fa-microscope text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ“ŠHireScore</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Know your resumeâ€™s true impact! ğŸ“„ğŸ“ˆ
Check your ATS score and get instant improvements.</p>
            </a>

            <a href="/tools/currency_converter" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-yellow-500/30">
                    <i class="fas fa-coins text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ’±GlobalRate</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Stay updated worldwide! ğŸŒğŸ’±
Get live exchange rates and instant currency conversions.</p>
            </a>

            <a href="/tools/password_generator" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-slate-600 to-slate-900 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-slate-500/30">
                    <i class="fas fa-key text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ”VaultKey</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Stay secure online! ğŸ›¡ï¸ğŸ”‘
Generate ultra-strong passwords to protect your accounts.</p>
            </a>

            <a href="/tools/grammar_fixer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-pink-400 to-purple-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-pink-500/30">
                    <i class="fas fa-spell-check text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">âœ¨Grammar Fixer</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Write with confidence! ğŸ“âœ¨
Make your English professional and error-free.</p>
            </a>

            <a href="/tools/interview_questions" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-orange-400 to-red-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-orange-500/30">
                    <i class="fas fa-user-tie text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ’¼ğŸŒElitePreparation</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Crack top company interviews! ğŸš€ğŸ’¼
Prepare for the toughest questions with smart guidance.</p>
            </a>

            <a href="/tools/mock_interviewer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-cyan-500/30">
                    <i class="fas fa-microphone text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¤MockMaster</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Practice. Improve. Succeed. ğŸ¯ğŸ¤
Do live mock interviews and boost your confidence.</p>
            </a>

            <a href="/tools/math_solver" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-rose-400 to-red-700 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-red-500/30">
                    <i class="fas fa-calculator text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">â—MathFlow</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Solve smarter, step by step! ğŸ§ âœ¨
Break down complex problems with AI guidance.</p>
            </a>

            <a href="/tools/sing_with_me" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-fuchsia-500 to-pink-700 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-fuchsia-500/30">
                    <i class="fas fa-music text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸµVibeRoom</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Study break? Letâ€™s vibe! ğŸ¶ğŸ˜„
Sing along and refresh your mind together.</p>
            </a>

            <a href="/tools/cold_email" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-cyan-500/30">
                    <i class="fas fa-envelope-open-text text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ“§MailMagnet</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Open doors to global opportunities! ğŸŒğŸ“©
Craft high-converting emails for high-paying jobs.</p>
            </a>

            <a href="/tools/fitness_coach" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-orange-500/30">
                    <i class="fas fa-dumbbell text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¥ŠFitForge AI</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Train smarter at home! ğŸ’ªğŸ”¥
Get personalized workouts, boxing plans, and diet guidance.</p>
            </a>

            <a href="/tools/feynman_explainer" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-blue-500/30">
                    <i class="fas fa-brain text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ“šConceptEase</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Master complex concepts easily! ğŸ¤–ğŸ“˜
Understand AIML and college topics in simple language.</p>
            </a>

            <a href="/tools/code_debugger" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-gray-600 to-green-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-green-500/30">
                    <i class="fas fa-bug text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ’»CodeRefine</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Build better, faster code! âš¡ğŸ’»
Fix errors and optimize advanced projects effortlessly.</p>
            </a>

            <a href="/tools/movie_talker" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-purple-500/30">
                    <i class="fas fa-film text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ¬CineVerse</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Experience stories differently! ğŸ¿âœ¨
Hear movie storytelling or dive into fun discussions.</p>
            </a>

            <a href="/tools/anime_talker" class="tool-card bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 cursor-pointer group">
                <div class="tool-icon-wrapper w-14 h-14 rounded-xl bg-gradient-to-br from-rose-500 to-red-700 flex items-center justify-center text-2xl mb-4 shadow-lg shadow-rose-500/30">
                    <i class="fas fa-fire-flame-curved text-white"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-gray-100">ğŸ‰ğŸAkiro Anime Hub </h3>
                <p class="text-gray-400 text-sm leading-relaxed">Letâ€™s talk fandom! ğŸğŸ”¥
Enjoy fun conversations about your favorite anime and characters.</p>
            </a>
        </div>

        <div class="mt-8 mb-8 max-w-7xl mx-auto">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-tr from-pink-500 to-purple-600 flex items-center justify-center text-white shadow-lg shadow-pink-500/20">
                    <i class="fas fa-gamepad text-xl"></i>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-white">Arcade Zone</h2>
                    <p class="text-gray-400 text-sm">Take a break with zero API cost client-side games!</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                
                <a href="/arcade/tic-tac-toe" class="group bg-gray-900/40 border border-white/5 rounded-2xl p-4 hover:bg-gray-800/80 hover:border-pink-500/40 transition duration-300">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-xl bg-pink-500/10 text-pink-400 flex items-center justify-center text-2xl group-hover:scale-110 transition"><i class="fas fa-times"></i></div>
                        <h3 class="text-lg font-bold text-gray-200 group-hover:text-pink-400 transition">Tic-Tac-Toe</h3>
                    </div>
                    <p class="text-sm text-gray-400">Can you beat the Unbeatable AI in Hard mode?</p>
                </a>
                
                <a href="/arcade/code-le" class="group bg-gray-900/40 border border-white/5 rounded-2xl p-4 hover:bg-gray-800/80 hover:border-green-500/40 transition duration-300">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-xl bg-green-500/10 text-green-400 flex items-center justify-center text-2xl group-hover:scale-110 transition"><i class="fas fa-terminal"></i></div>
                        <h3 class="text-lg font-bold text-gray-200 group-hover:text-green-400 transition">Code-le</h3>
                    </div>
                    <p class="text-sm text-gray-400">Guess the 5-letter Tech Word. You have 6 attempts!</p>
                </a>

                <a href="/arcade/anime-match" class="group bg-gray-900/40 border border-white/5 rounded-2xl p-4 hover:bg-gray-800/80 hover:border-purple-500/40 transition duration-300">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-xl bg-purple-500/10 text-purple-400 flex items-center justify-center text-2xl group-hover:scale-110 transition"><i class="fas fa-magic"></i></div>
                        <h3 class="text-lg font-bold text-gray-200 group-hover:text-purple-400 transition">Anime Match</h3>
                    </div>
                    <p class="text-sm text-gray-400">Memory card game with AyanokÅji, Lucifer & more.</p>
                </a>

                <a href="/arcade/flappy-bug" class="group bg-gray-900/40 border border-white/5 rounded-2xl p-4 hover:bg-gray-800/80 hover:border-blue-500/40 transition duration-300">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-xl bg-blue-500/10 text-blue-400 flex items-center justify-center text-2xl group-hover:scale-110 transition"><i class="fas fa-bug"></i></div>
                        <h3 class="text-lg font-bold text-gray-200 group-hover:text-blue-400 transition">Flappy Bug</h3>
                    </div>
                    <p class="text-sm text-gray-400">Dodge the 404 Errors and save the Developer Bug!</p>
                </a>

                <a href="/arcade/ludo" class="group bg-gray-900/40 border border-white/5 rounded-2xl p-4 hover:bg-gray-800/80 hover:border-yellow-500/40 transition duration-300">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-xl bg-yellow-500/10 text-yellow-400 flex items-center justify-center text-2xl group-hover:scale-110 transition"><i class="fas fa-dice"></i></div>
                        <h3 class="text-lg font-bold text-gray-200 group-hover:text-yellow-400 transition">Ludo Lite</h3>
                    </div>
                    <p class="text-sm text-gray-400">Roll the interactive 3D dice in this classic arena.</p>
                </a>
            </div>
        </div>
    </main>

    <div id="customToolModal" class="hidden fixed inset-0 bg-black bg-opacity-80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-white"><i class="fas fa-magic text-pink-500"></i> Create AI Tool</h3>
                <button onclick="document.getElementById('customToolModal').classList.add('hidden')" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="text-sm text-gray-400 mb-1 block">Tool Name</label>
                    <input type="text" id="ct-name" placeholder="e.g. Legal Advisor" class="w-full bg-gray-800 text-white rounded-lg px-3 py-2 outline-none border border-gray-700 focus:border-pink-500">
                </div>
                <div>
                    <label class="text-sm text-gray-400 mb-1 block">Short Description</label>
                    <input type="text" id="ct-desc" placeholder="e.g. Helps with law questions" class="w-full bg-gray-800 text-white rounded-lg px-3 py-2 outline-none border border-gray-700 focus:border-pink-500">
                </div>
                <div>
                    <label class="text-sm text-gray-400 mb-1 block">AI Instructions (Prompt)</label>
                    <textarea id="ct-inst" rows="4" placeholder="Act as an expert lawyer. Give legal advice strictly based on Indian Law..." class="w-full bg-gray-800 text-white rounded-lg px-3 py-2 outline-none border border-gray-700 focus:border-pink-500"></textarea>
                </div>
                <button onclick="saveCustomTool()" class="w-full bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-500 hover:to-purple-500 text-white font-bold py-3 rounded-lg transition shadow-lg mt-2">
                    Create My Tool
                </button>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', loadCustomTools);

        async function loadCustomTools() {
            try {
                const res = await fetch('/api/get_custom_tools');
                const data = await res.json();
                const grid = document.getElementById('customToolsGrid');
                grid.innerHTML = '';
                
                if (!data.tools || data.tools.length === 0) {
                    grid.innerHTML = '<p class="text-gray-500 text-sm col-span-full">You haven\'t created any custom tools yet. Click "Create Tool" to build one!</p>';
                    return;
                }

                data.tools.forEach(tool => {
                    grid.innerHTML += `
                        <div onclick="openCustomToolChat('${tool.id}', '${tool.name}')" class="bg-gray-800/80 backdrop-blur-sm border border-gray-700 rounded-2xl p-6 hover:border-yellow-500 hover:-translate-y-1 transition cursor-pointer shadow-lg group">
                            <div class="w-14 h-14 rounded-xl bg-gray-900 flex items-center justify-center mb-4 group-hover:scale-110 transition shadow-inner">
                                <i class="${tool.icon || 'fas fa-wrench'} text-2xl text-yellow-400"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">${tool.name}</h3>
                            <p class="text-sm text-gray-400 line-clamp-2 leading-relaxed">${tool.description}</p>
                        </div>
                    `;
                });
            } catch (err) {
                console.error("Error loading tools:", err);
            }
        }

        async function saveCustomTool() {
            const name = document.getElementById('ct-name').value.trim();
            const desc = document.getElementById('ct-desc').value.trim();
            const inst = document.getElementById('ct-inst').value.trim();
            
            if (!name || !inst) return alert("Please provide both a Name and AI Instructions for your tool!");

            const btn = document.querySelector('#customToolModal button.bg-gradient-to-r');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Creating...';

            await fetch('/api/create_custom_tool', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    name: name, 
                    description: desc, 
                    instruction: inst,
                    icon: "fas fa-bolt" // Default custom icon
                })
            });

            document.getElementById('ct-name').value = '';
            document.getElementById('ct-desc').value = '';
            document.getElementById('ct-inst').value = '';
            btn.innerHTML = 'Create My Tool';
            document.getElementById('customToolModal').classList.add('hidden');
            
            loadCustomTools();
        }

        function openCustomToolChat(toolId, toolName) {
            // Setting the tool in local storage so the main chat knows which mode to open
            localStorage.setItem("current_tool_mode", toolId);
            localStorage.setItem("current_tool_name", toolName);
            window.location.href = "/"; 
        }
    </script>
</body>
</html>